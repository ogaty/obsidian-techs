(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{354:function(a,t,s){"use strict";s.r(t);var e=s(19),r=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"関数呼び出し-classコンポーネント"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#関数呼び出し-classコンポーネント"}},[a._v("#")]),a._v(" 関数呼び出し(classコンポーネント)")]),a._v(" "),t("h2",{attrs:{id:"子供から親を呼ぶ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#子供から親を呼ぶ"}},[a._v("#")]),a._v(" 子供から親を呼ぶ")]),a._v(" "),t("p",[a._v("単純にpropsにコールバック変数を渡してあげれば良い")]),a._v(" "),t("h2",{attrs:{id:"親から子を呼ぶ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#親から子を呼ぶ"}},[a._v("#")]),a._v(" 親から子を呼ぶ")]),a._v(" "),t("p",[a._v("constructor内でRefを宣言")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("this.MyRef = React.createRef();\nthis.myfunc = this.myfunc.bind(this);\n")])])]),t("p",[a._v("で refを渡す")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("    <NewsChildFunction ref={MyRef}></NewsChildFunction>\n")])])]),t("p",[a._v("んで")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("    showModal = () => {\n        this.MyRef.current.myfunc();\n    }\n")])])]),t("p",[a._v("こう")]),a._v(" "),t("h1",{attrs:{id:"関数呼び出し-functionコンポーネント"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#関数呼び出し-functionコンポーネント"}},[a._v("#")]),a._v(" 関数呼び出し(functionコンポーネント)")]),a._v(" "),t("h2",{attrs:{id:"子供から親を呼ぶ-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#子供から親を呼ぶ-2"}},[a._v("#")]),a._v(" 子供から親を呼ぶ")]),a._v(" "),t("p",[a._v("単純にpropsにコールバック変数を渡してあげれば良い")]),a._v(" "),t("h2",{attrs:{id:"親から子を呼ぶ-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#親から子を呼ぶ-2"}},[a._v("#")]),a._v(" 親から子を呼ぶ")]),a._v(" "),t("p",[a._v("refを宣言")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("    const myRef = useRef();\n")])])]),t("p",[a._v("refを渡す")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("    <NewsChildFunction ref={myRef}></NewsChildFunction>\n")])])]),t("p",[a._v("で呼ぶ")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("    myRef.current.childButtonClick();\n")])])]),t("p",[a._v("functionコンポーネントは子供側もいじる"),t("br"),a._v("\nまずrefを引数に入れる")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("    const NewsChildFunction = (props, ref) => {\n")])])]),t("p",[a._v("でこんな感じに")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('    useImperativeHandle(\n        ref,\n        () => ({\n            childButtonClick() {\n                setTitle("called from parent");\n            }\n        }),\n    )\n')])])]),t("p",[a._v("でforwardRefでくくる")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("    export default forwardRef(NewsChildFunction);\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);